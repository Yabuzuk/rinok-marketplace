import React, { useState, useEffect } from 'react';
import { ArrowLeft, FileText, Shield, Users, AlertTriangle } from 'lucide-react';
import { useNavigate } from 'react-router-dom';

const LegalPage: React.FC = () => {
  const navigate = useNavigate();
  const [activeTab, setActiveTab] = useState('terms');

  useEffect(() => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, []);

  const tabs = [
    { id: 'terms', name: 'Пользовательское соглашение', icon: FileText },
    { id: 'privacy', name: 'Политика конфиденциальности', icon: Shield },
    { id: 'offer', name: 'Публичная оферта', icon: Users },
    { id: 'responsibility', name: 'Ответственность сторон', icon: AlertTriangle }
  ];

  const renderContent = () => {
    switch (activeTab) {
      case 'terms':
        return (
          <div style={{ maxHeight: '600px', overflowY: 'auto', padding: '20px' }}>
            <h2 style={{ color: '#2e7d32', marginBottom: '24px' }}>Пользовательское соглашение</h2>
            <p>Настоящее Пользовательское соглашение (далее – Соглашение) регулирует отношения между уполномоченными сотрудниками на управление сайтом Оптбазар.рф и пользователями сайта Оптбазар.рф во время использования сайта оптбазар.рф, его программ и его продуктов.</p>
            
            <h3>1. Определение терминов</h3>
            <p>1.1. В настоящем Соглашении используются следующие термины:</p>
            <p>1.1.1. <strong>«Администрация сайта»</strong> (далее – Администрация) – уполномоченные сотрудники на управление сайтом Оптбазар.рф.</p>
            <p>1.1.2. <strong>«Пользователь»</strong> – лицо, имеющее доступ к сайту Оптбазар.рф и использующее информацию, материалы и продукты сайта.</p>
            <p>1.1.3. <strong>«Сайт»</strong> – совокупность веб-страниц, размещенных по адресу оптбазар.рф и его субдоменах.</p>
            
            <h3>2. Общие положения</h3>
            <p>2.1. Использование Сайта Пользователем означает согласие с настоящим Соглашением.</p>
            <p>2.2. В случае несогласия с условиями Соглашения Пользователь должен прекратить использование сайта.</p>
            <p>2.3. Администрация вправе изменять условия Соглашения без согласия Пользователя.</p>
            
            <h3>3. Права и обязанности Пользователя</h3>
            <p>3.1. Пользователь вправе:</p>
            <ul>
              <li>Использовать информацию и сервисы сайта в соответствии с их назначением</li>
              <li>Обращаться к Администрации с вопросами и предложениями</li>
            </ul>
            <p>3.2. Пользователь обязуется:</p>
            <ul>
              <li>Соблюдать требования законодательства РФ</li>
              <li>Не нарушать работоспособность сайта</li>
              <li>Предоставлять достоверную информацию при регистрации</li>
            </ul>
            
            <h3>4. Ответственность сторон</h3>
            <p>4.1. Администрация не несет ответственности за:</p>
            <ul>
              <li>Временную недоступность сайта</li>
              <li>Действия третьих лиц</li>
              <li>Убытки, связанные с использованием сайта</li>
            </ul>
            
            <h3>5. Права и обязанности Администрации</h3>
            <p>5.1. Администрация вправе:</p>
            <ul>
              <li>Изменять условия Соглашения без согласия Пользователя</li>
              <li>Ограничивать доступ к сайту при нарушении условий</li>
              <li>Удалять контент, нарушающий законодательство</li>
            </ul>
            <p>5.2. Администрация обязуется:</p>
            <ul>
              <li>Обеспечивать работоспособность сайта</li>
              <li>Защищать персональные данные пользователей</li>
              <li>Уведомлять о существенных изменениях</li>
            </ul>
            
            <h3>6. Ограничения использования</h3>
            <p>6.1. Пользователю запрещается:</p>
            <ul>
              <li>Использовать сайт в незаконных целях</li>
              <li>Нарушать авторские права</li>
              <li>Размещать вредоносный контент</li>
              <li>Пытаться получить несанкционированный доступ</li>
            </ul>
            
            <h3>7. Интеллектуальная собственность</h3>
            <p>7.1. Все материалы сайта защищены авторским правом.</p>
            <p>7.2. Использование материалов возможно только с письменного согласия правообладателя.</p>
            
            <h3>8. Ответственность сторон</h3>
            <p>8.1. Администрация не несет ответственности за:</p>
            <ul>
              <li>Временную недоступность сайта</li>
              <li>Действия третьих лиц</li>
              <li>Убытки, связанные с использованием сайта</li>
              <li>Содержание внешних ссылок</li>
            </ul>
            <p>8.2. Пользователь несет полную ответственность за свои действия на сайте.</p>
            
            <h3>9. Разрешение споров</h3>
            <p>9.1. До обращения в суд обязательно предъявление претензии.</p>
            <p>9.2. Срок рассмотрения претензии – 30 календарных дней.</p>
            <p>9.3. При невозможности соглашения споры разрешаются в Арбитражном суде г. Москва.</p>
            
            <h3>10. Заключительные положения</h3>
            <p>10.1. Соглашение действует с момента начала использования сайта.</p>
            <p>10.2. Недействительность отдельных положений не влечет недействительность Соглашения в целом.</p>
            <p>10.3. Все вопросы направлять по адресу: amixvn@gmail.com</p>
            
            <div style={{ marginTop: '40px', maxHeight: '600px', overflowY: 'auto', padding: '20px', background: '#f5f5f5', borderRadius: '8px' }}>
              <p><strong>Обновлено: 28 Октября 2025 года</strong></p>
              <p><strong>г. Новосибирск, Хохлов И.О.</strong></p>
            </div>
          </div>
        );

      case 'privacy':
        return (
          <div style={{ maxHeight: '600px', overflowY: 'auto', padding: '20px' }}>
            <h2 style={{ color: '#2e7d32', marginBottom: '24px' }}>Политика конфиденциальности</h2>
            <p>Настоящая Политика конфиденциальности персональных данных (далее – Политика конфиденциальности) действует в отношении всей информации, расположенной в сети Интернет на доменном имени оптбазар.рф (а также его субдоменах) (далее - Сайт), которую могут получить о Пользователе во время использования сайта оптбазар.рф (а также его субдоменов), его программ и его продуктов.</p>
            
            <h3>1. Определение терминов</h3>
            <p>1.1. В настоящей Политике конфиденциальности используются следующие термины:</p>
            <p>1.1.1. <strong>«Администрация сайта»</strong> (далее – Администрация) – уполномоченные сотрудники на управление сайтом Оптбазар.рф, которые организуют и (или) осуществляют обработку персональных данных, а также определяют цели обработки персональных данных, состав персональных данных, подлежащих обработке, действия (операции), совершаемые с персональными данными.</p>
            <p>1.1.2. <strong>«Персональные данные»</strong> - любая информация, относящаяся к прямо или косвенно определенному, или определяемому физическому лицу (субъекту персональных данных). «Персональные данные» - информация, которую Пользователь предоставляет о себе самостоятельно при регистрации (создании учетной записи) или в процессе использования Сервисов, включая персональные данные Пользователя. Обязательная для предоставления Сервисов информация помечена специальным образом. Иная информация предоставляется Пользователем на его усмотрение.</p>
            
            <p>К субъектам персональных данных (Пользователям) относятся:</p>
            <ul>
              <li>клиенты и контрагенты оператора (физические лица);</li>
              <li>представители/работники клиентов и контрагентов оператора (юридических лиц).</li>
            </ul>
            
            <p>1.1.3. <strong>«Обработка персональных данных»</strong> - любое действие (операция) или совокупность действий (операций), совершаемых с использованием средств автоматизации или без использования таких средств с персональными данными, включая сбор, запись, систематизацию, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передачу (распространение, предоставление, доступ), обезличивание, блокирование, удаление, уничтожение персональных данных.</p>
            
            <h3>2. Общие положения</h3>
            <p>2.1. Использование Сайта Пользователем означает согласие с настоящей Политикой конфиденциальности и условиями обработки персональных данных Пользователя.</p>
            <p>2.2. В случае несогласия с условиями Политики конфиденциальности Пользователь должен прекратить использование сайта Оптбазар.рф.</p>
            
            <h3>3. Цели сбора персональной информации</h3>
            <p>3.1. Персональные данные Пользователя Администрация может использовать в целях:</p>
            <ul>
              <li>Идентификации Пользователя для авторизации</li>
              <li>Предоставления доступа к персонализированным данным</li>
              <li>Установления обратной связи с Пользователем</li>
              <li>Обеспечения безопасности и предотвращения мошенничества</li>
              <li>Технической поддержки</li>
            </ul>
            
            <h3>4. Способы обработки персональной информации</h3>
            <p>4.1. Обработка персональных данных осуществляется любым законным способом.</p>
            <p>4.2. Персональные данные могут быть переданы уполномоченным органам государственной власти РФ только по основаниям, установленным законодательством.</p>
            
            <h3>5. Права Пользователя</h3>
            <p>5.1. Пользователь вправе требовать уточнения, блокирования или уничтожения своих персональных данных.</p>
            <p>5.2. Для реализации прав достаточно уведомить Администрацию по указанному E-mail адресу.</p>
            
            <div style={{ marginTop: '40px', maxHeight: '600px', overflowY: 'auto', padding: '20px', background: '#f5f5f5', borderRadius: '8px' }}>
              <p><strong>Обновлено: 28 Октября 2025 года</strong></p>
              <p><strong>г. Новосибирск, Хохлов И.О.</strong></p>
            </div>
          </div>
        );

      case 'offer':
        return (
          <div style={{ maxHeight: '600px', overflowY: 'auto', padding: '20px' }}>
            <h2 style={{ color: '#2e7d32', marginBottom: '24px' }}>Публичная оферта</h2>
            <p>Настоящая Публичная оферта (далее – Оферта) является официальным предложением Администрации сайта Оптбазар.рф заключить договор на оказание информационных услуг на условиях, изложенных ниже.</p>
            
            <h3>1. Определения</h3>
            <p>1.1. <strong>Оферент</strong> – Администрация сайта Оптбазар.рф.</p>
            <p>1.2. <strong>Акцептант</strong> – лицо, принимающее условия настоящей Оферты.</p>
            <p>1.3. <strong>Услуги</strong> – предоставление доступа к информационным ресурсам сайта.</p>
            
            <h3>2. Предмет договора</h3>
            <p>2.1. Оферент предоставляет Акцептанту доступ к информационным услугам сайта Оптбазар.рф.</p>
            <p>2.2. Услуги предоставляются на безвозмездной основе, если не указано иное.</p>
            
            <h3>3. Порядок заключения договора</h3>
            <p>3.1. Договор считается заключенным с момента начала использования сайта Пользователем.</p>
            <p>3.2. Акцепт Оферты означает полное согласие с ее условиями.</p>
            
            <h3>4. Права и обязанности сторон</h3>
            <p>4.1. Оферент обязуется:</p>
            <ul>
              <li>Предоставлять доступ к информационным ресурсам</li>
              <li>Обеспечивать конфиденциальность персональных данных</li>
              <li>Уведомлять об изменениях условий</li>
            </ul>
            
            <p>4.2. Акцептант обязуется:</p>
            <ul>
              <li>Соблюдать условия использования сайта</li>
              <li>Не нарушать права третьих лиц</li>
              <li>Предоставлять достоверную информацию</li>
            </ul>
            
            <h3>5. Ответственность</h3>
            <p>5.1. Стороны несут ответственность в соответствии с законодательством РФ.</p>
            <p>5.2. Оферент не несет ответственности за действия третьих лиц.</p>
            
            <h3>6. Срок действия договора</h3>
            <p>6.1. Договор действует с момента акцепта Оферты.</p>
            <p>6.2. Договор действует до отказа одной из сторон от его исполнения.</p>
            
            <h3>7. Порядок расторжения договора</h3>
            <p>7.1. Оферент вправе отказаться от исполнения договора в одностороннем порядке.</p>
            <p>7.2. Акцептант может отказаться от услуг, прекратив использование сайта.</p>
            
            <h3>8. Обстоятельства непреодолимой силы</h3>
            <p>8.1. Стороны освобождаются от ответственности при наступлении обстоятельств непреодолимой силы.</p>
            <p>8.2. К таким обстоятельствам относятся: стихийные бедствия, военные действия, решения государственных органов.</p>
            
            <h3>9. Конфиденциальность</h3>
            <p>9.1. Оферент обязуется обеспечивать конфиденциальность персональных данных Акцептанта.</p>
            <p>9.2. Персональные данные обрабатываются в соответствии с Политикой конфиденциальности.</p>
            
            <h3>10. Изменение условий Оферты</h3>
            <p>10.1. Оферент вправе в любое время изменять условия Оферты.</p>
            <p>10.2. Об изменениях уведомление размещается на сайте.</p>
            <p>10.3. Продолжение использования сайта означает согласие с новыми условиями.</p>
            
            <h3>11. Разрешение споров</h3>
            <p>11.1. До обращения в суд обязательно предъявление претензии.</p>
            <p>11.2. Срок рассмотрения претензии – 30 календарных дней.</p>
            <p>11.3. При невозможности соглашения споры разрешаются в Арбитражном суде г. Москва.</p>
            
            <h3>12. Применимое право</h3>
            <p>12.1. К настоящей Оферте применяется законодательство Российской Федерации.</p>
            <p>12.2. Все вопросы направлять по адресу: amixvn@gmail.com</p>
            
            <div style={{ marginTop: '40px', maxHeight: '600px', overflowY: 'auto', padding: '20px', background: '#f5f5f5', borderRadius: '8px' }}>
              <p><strong>Контакты:</strong></p>
              <p>Email: amixvn@gmail.com</p>
              <p>Адрес: г. Новосибирск</p>
              <p><strong>Обновлено: 28 Октября 2025 года</strong></p>
            </div>
          </div>
        );

      case 'responsibility':
        return (
          <div style={{ maxHeight: '600px', overflowY: 'auto', padding: '20px' }}>
            <h2 style={{ color: '#2e7d32', marginBottom: '24px' }}>Соглашение об ответственности сторон</h2>
            <p>Настоящее Соглашение определяет ответственность сторон при использовании сайта Оптбазар.рф и связанных с ним сервисов.</p>
            
            <h3>1. Ответственность Администрации</h3>
            <p>1.1. Администрация несет ответственность за:</p>
            <ul>
              <li>Обеспечение функционирования сайта в соответствии с заявленными возможностями</li>
              <li>Защиту персональных данных пользователей</li>
              <li>Соблюдение условий пользовательского соглашения</li>
            </ul>
            
            <p>1.2. Администрация не несет ответственности за:</p>
            <ul>
              <li>Временную недоступность сайта по техническим причинам</li>
              <li>Действия пользователей и третьих лиц</li>
              <li>Содержание информации, размещаемой пользователями</li>
              <li>Убытки, возникшие в результате использования или невозможности использования сайта</li>
            </ul>
            
            <h3>2. Ответственность Пользователей</h3>
            <p>2.1. Пользователи несут полную ответственность за:</p>
            <ul>
              <li>Соблюдение требований законодательства РФ</li>
              <li>Достоверность предоставляемой информации</li>
              <li>Сохранность своих учетных данных</li>
              <li>Все действия, совершенные под их учетной записью</li>
            </ul>
            
            <h3>3. Ограничение ответственности</h3>
            <p>3.1. Максимальная ответственность Администрации ограничивается суммой фактически понесенного ущерба.</p>
            <p>3.2. Администрация не несет ответственности за косвенные убытки и упущенную выгоду.</p>
            
            <h3>4. Обстоятельства непреодолимой силы</h3>
            <p>4.1. Стороны освобождаются от ответственности при наступлении обстоятельств непреодолимой силы.</p>
            <p>4.2. К таким обстоятельствам относятся: стихийные бедствия, военные действия, решения государственных органов, технические сбои интернет-провайдеров.</p>
            
            <h3>5. Порядок возмещения ущерба</h3>
            <p>5.1. Требования о возмещении ущерба предъявляются в письменном виде.</p>
            <p>5.2. Срок рассмотрения требований – 30 календарных дней.</p>
            <p>5.3. При отказе в добровольном возмещении спор разрешается в судебном порядке.</p>
            
            <h3>6. Заключительные положения</h3>
            <p>6.1. Настоящее Соглашение действует с момента начала использования сайта.</p>
            <p>6.2. Изменения вносятся Администрацией в одностороннем порядке с уведомлением пользователей.</p>
            
            <div style={{ marginTop: '40px', maxHeight: '600px', overflowY: 'auto', padding: '20px', background: '#f5f5f5', borderRadius: '8px' }}>
              <p><strong>Контакты для обращений:</strong></p>
              <p>Email: amixvn@gmail.com</p>
              <p>Ответственное лицо: Хохлов И.О.</p>
              <p><strong>Обновлено: 28 Октября 2025 года</strong></p>
            </div>
          </div>
        );

      default:
        return null;
    }
  };

  return (
    <div style={{ minHeight: '100vh', background: '#f6f9fc', paddingTop: '24px' }}>
      <div className="container">
        <div style={{ marginBottom: '24px' }}>
          <button
            onClick={() => navigate(-1)}
            style={{
              display: 'flex',
              alignItems: 'center',
              gap: '8px',
              background: 'white',
              border: '1px solid #e0e0e0',
              borderRadius: '8px',
              padding: '8px 16px',
              cursor: 'pointer',
              color: '#2e7d32'
            }}
          >
            <ArrowLeft size={20} />
            Назад
          </button>
        </div>

        <div style={{
          background: 'white',
          borderRadius: '16px',
          overflow: 'hidden',
          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
        }}>
          {tabs.map(tab => {
            const Icon = tab.icon;
            const isActive = activeTab === tab.id;
            return (
              <div key={tab.id} style={{ borderBottom: '1px solid #e0e0e0' }}>
                <button
                  onClick={() => setActiveTab(isActive ? '' : tab.id)}
                  style={{
                    width: '100%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'space-between',
                    padding: '20px 24px',
                    border: 'none',
                    background: isActive ? '#f8f9fa' : 'white',
                    color: isActive ? '#4caf50' : '#333',
                    cursor: 'pointer',
                    fontSize: '16px',
                    fontWeight: '500',
                    textAlign: 'left',
                    transition: 'all 0.3s ease'
                  }}
                >
                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                    <Icon size={20} />
                    {tab.name}
                  </div>
                  <span style={{
                    transform: isActive ? 'rotate(180deg)' : 'rotate(0deg)',
                    transition: 'transform 0.3s ease',
                    fontSize: '20px'
                  }}>
                    ▼
                  </span>
                </button>
                {isActive && (
                  <div style={{
                    padding: '0 24px 24px 24px',
                    background: '#f8f9fa',
                    animation: 'slideDown 0.3s ease'
                  }}>
                    {renderContent()}
                  </div>
                )}
              </div>
            );
          })}
        </div>

        <div style={{
          background: 'white',
          borderRadius: '16px',
          padding: '24px',
          marginTop: '24px',
          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
        }}>
          <h3 style={{ color: '#2e7d32', marginBottom: '16px' }}>Контактная информация</h3>
          <div style={{ display: 'grid', gap: '8px', fontSize: '14px', color: '#666' }}>
            <div><strong>Администрация сайта Оптбазар.рф</strong></div>
            <div>Email: amixvn@gmail.com</div>
            <div>Адрес: г. Новосибирск</div>
            <div>Ответственное лицо: Хохлов И.О.</div>
          </div>
        </div>
      </div>

      <style>{`
        .container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 16px;
        }
        
        h3 {
          color: #2e7d32;
          margin: 24px 0 16px 0;
          font-size: 18px;
        }
        
        p {
          margin-bottom: 12px;
          line-height: 1.6;
          color: #333;
        }
        
        ul {
          margin: 12px 0;
          padding-left: 20px;
        }
        
        li {
          margin-bottom: 8px;
          line-height: 1.5;
          color: #333;
        }
        
        @keyframes slideDown {
          from {
            opacity: 0;
            max-height: 0;
          }
          to {
            opacity: 1;
            max-height: 1000px;
          }
        }
      `}</style>
    </div>
  );
};

export default LegalPage;
